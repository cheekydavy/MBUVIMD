function a12_0x1be4(){const _0xc8a439=['The\x20video\x20is\x20too\x20long!\x20Please\x20use\x20a\x20video\x20shorter\x20than\x2020\x20seconds.','url','\x20bytes','sendMessage','input-','Failed\x20to\x20process\x20video:\x20','readFile','output','[Sticker\x20Debug]\x20Quoted\x20Message:','videoMessage','76968YdJEcb','join','setDuration','-q:v\x2040','/tmp','3159006CtRiXD','contextInfo','writeFile','end','fluent-ffmpeg','1412lhnNyC','[Sticker\x20Debug]\x20Trimmed\x20to\x205\x20seconds\x20and\x20re-encoded','210310oUoxYW','log','-vf\x20scale=512:512:force_original_aspect_ratio=decrease,pad=512:512:(ow-iw)/2:(oh-ih)/2','Oops!\x20An\x20error\x20occurred:\x20','toBuffer','format','extendedTextMessage','\x0a\x0aMbuvi\x20MD\x0aPowered\x20by\x20Mbuvi\x20Tech','image','8ZmOUqp','message','-r\x203','setStartTime','path','[Sticker\x20Debug]\x20Media\x20Type:\x20','quotedMessage','11eMCVKh','3597TiLpFA','stringify','.webp','now','[Sticker\x20Debug]\x20FFmpeg\x20animation\x20conversion\x20completed','error','117CWfsVk','-loop\x200','promises','3714606ItDoxz','Please\x20reply\x20to\x20a\x20photo\x20or\x20short\x20video\x20to\x20convert\x20it\x20to\x20a\x20sticker.','unlink','length','webp','imageMessage','[Sticker\x20Error]\x20Shit\x20hit\x20the\x20fan:\x20','-lossless\x200','.mp4','14257128HimLuG','16238390sOoVsr','run','[Sticker\x20Debug]\x20Sticker\x20Buffer\x20Size:\x20','13usjfhU','output-','19kZGSyt','outputOptions','video','contain','10oGuYaf'];a12_0x1be4=function(){return _0xc8a439;};return a12_0x1be4();}const a12_0x3052d9=a12_0x36c6;(function(_0x12cd7a,_0x4b0e3f){const _0x500dcd=a12_0x36c6,_0x46c313=_0x12cd7a();while(!![]){try{const _0x417152=-parseInt(_0x500dcd(0xb1))/0x1*(parseInt(_0x500dcd(0xc0))/0x2)+parseInt(_0x500dcd(0xdd))/0x3*(parseInt(_0x500dcd(0xca))/0x4)+-parseInt(_0x500dcd(0xb5))/0x5*(parseInt(_0x500dcd(0xc5))/0x6)+parseInt(_0x500dcd(0xe6))/0x7*(-parseInt(_0x500dcd(0xd5))/0x8)+parseInt(_0x500dcd(0xe3))/0x9*(parseInt(_0x500dcd(0xcc))/0xa)+-parseInt(_0x500dcd(0xdc))/0xb*(-parseInt(_0x500dcd(0xef))/0xc)+-parseInt(_0x500dcd(0xaf))/0xd*(-parseInt(_0x500dcd(0xf0))/0xe);if(_0x417152===_0x4b0e3f)break;else _0x46c313['push'](_0x46c313['shift']());}catch(_0x3e1b37){_0x46c313['push'](_0x46c313['shift']());}}}(a12_0x1be4,0xb22ad));function a12_0x36c6(_0x24da6d,_0x2e0edf){const _0x1be4c3=a12_0x1be4();return a12_0x36c6=function(_0x36c6ae,_0x1352f0){_0x36c6ae=_0x36c6ae-0xae;let _0x57332b=_0x1be4c3[_0x36c6ae];return _0x57332b;},a12_0x36c6(_0x24da6d,_0x2e0edf);}const {cmd,commands}=require('../command'),{downloadContentFromMessage}=require('@whiskeysockets/baileys'),{getBuffer}=require('../lib/functions'),sharp=require('sharp'),ffmpeg=require(a12_0x3052d9(0xc9)),fs=require('fs')[a12_0x3052d9(0xe5)],path=require(a12_0x3052d9(0xd9));cmd({'pattern':'sticker','desc':'Convert\x20a\x20photo\x20or\x20short\x20video\x20to\x20a\x20sticker','category':'media','filename':__filename},async(_0x3398b4,_0x4780a0,_0x48d431,{from:_0x2f0304,quoted:_0x48981c,reply:_0x114550})=>{const _0x567e06=a12_0x3052d9;try{if(!_0x48981c)return await _0x114550(_0x567e06(0xe7));console[_0x567e06(0xcd)](_0x567e06(0xbe),JSON[_0x567e06(0xde)](_0x48981c[_0x567e06(0xd6)],null,0x2));let _0x7263ec,_0x16c90e;if(_0x48981c[_0x567e06(0xd6)][_0x567e06(0xeb)])_0x7263ec=_0x567e06(0xd4),_0x16c90e=_0x48981c['message'][_0x567e06(0xeb)];else{if(_0x48981c[_0x567e06(0xd6)][_0x567e06(0xbf)])_0x7263ec=_0x567e06(0xb3),_0x16c90e=_0x48981c['message'][_0x567e06(0xbf)];else{if(_0x48981c['message'][_0x567e06(0xd2)]&&_0x48981c[_0x567e06(0xd6)][_0x567e06(0xd2)]['contextInfo']&&_0x48981c['message'][_0x567e06(0xd2)][_0x567e06(0xc6)]['quotedMessage']){const _0x11685f=_0x48981c[_0x567e06(0xd6)]['extendedTextMessage']['contextInfo'][_0x567e06(0xdb)];if(_0x11685f[_0x567e06(0xeb)])_0x7263ec=_0x567e06(0xd4),_0x16c90e=_0x11685f['imageMessage'];else _0x11685f[_0x567e06(0xbf)]&&(_0x7263ec=_0x567e06(0xb3),_0x16c90e=_0x11685f[_0x567e06(0xbf)]);}}}if(!_0x16c90e)return await _0x114550(_0x567e06(0xe7));console[_0x567e06(0xcd)](_0x567e06(0xda)+_0x7263ec+',\x20Media\x20URL:\x20'+_0x16c90e[_0x567e06(0xb7)]);if(_0x7263ec===_0x567e06(0xb3)&&_0x16c90e['seconds']>0x14)return await _0x114550(_0x567e06(0xb6));const _0x32f18b=await downloadContentFromMessage(_0x16c90e,_0x7263ec);let _0x449b38=Buffer['from']([]);for await(const _0x12550b of _0x32f18b){_0x449b38=Buffer['concat']([_0x449b38,_0x12550b]);}let _0x5eea9d;if(_0x7263ec===_0x567e06(0xd4))_0x5eea9d=await sharp(_0x449b38)['resize'](0x200,0x200,{'fit':_0x567e06(0xb4),'background':{'r':0x0,'g':0x0,'b':0x0,'alpha':0x0}})[_0x567e06(0xea)]({'quality':0x50,'effort':0x4})[_0x567e06(0xd0)]();else{if(_0x7263ec===_0x567e06(0xb3)){const _0x18b2d0=path[_0x567e06(0xc1)](_0x567e06(0xc4),_0x567e06(0xba)+Date['now']()+_0x567e06(0xee)),_0x39c83c=path[_0x567e06(0xc1)](_0x567e06(0xc4),_0x567e06(0xb0)+Date[_0x567e06(0xe0)]()+_0x567e06(0xdf));try{await fs[_0x567e06(0xc7)](_0x18b2d0,_0x449b38),await new Promise((_0x41736f,_0x3d53ed)=>{const _0x20cbd4=_0x567e06;ffmpeg(_0x18b2d0)[_0x20cbd4(0xbd)](_0x39c83c)[_0x20cbd4(0xb2)](['-vf\x20scale=512:512:force_original_aspect_ratio=decrease,pad=512:512:(ow-iw)/2:(oh-ih)/2','-r\x203',_0x20cbd4(0xe4),'-lossless\x200',_0x20cbd4(0xc3)])[_0x20cbd4(0xd1)](_0x20cbd4(0xea))['on'](_0x20cbd4(0xc8),()=>{const _0x215741=_0x20cbd4;console[_0x215741(0xcd)](_0x215741(0xe1)),_0x41736f();})['on']('error',_0x3d53ed)[_0x20cbd4(0xf1)]();}),_0x5eea9d=await fs['readFile'](_0x39c83c),_0x5eea9d[_0x567e06(0xe9)]>0x186a0&&(await new Promise((_0x188853,_0x4c3c8a)=>{const _0x338fc7=_0x567e06;ffmpeg(_0x18b2d0)[_0x338fc7(0xd8)](0x0)[_0x338fc7(0xc2)](0x5)[_0x338fc7(0xbd)](_0x39c83c)[_0x338fc7(0xb2)]([_0x338fc7(0xce),_0x338fc7(0xd7),'-loop\x200',_0x338fc7(0xed),'-q:v\x2040'])[_0x338fc7(0xd1)]('webp')['on']('end',()=>{const _0x4defc8=_0x338fc7;console['log'](_0x4defc8(0xcb)),_0x188853();})['on'](_0x338fc7(0xe2),_0x4c3c8a)[_0x338fc7(0xf1)]();}),_0x5eea9d=await fs[_0x567e06(0xbc)](_0x39c83c)),await fs[_0x567e06(0xe8)](_0x18b2d0),await fs[_0x567e06(0xe8)](_0x39c83c);}catch(_0x3d1961){throw new Error(_0x567e06(0xbb)+_0x3d1961[_0x567e06(0xd6)]);}}}console[_0x567e06(0xcd)](_0x567e06(0xae)+_0x5eea9d[_0x567e06(0xe9)]+'\x20bytes'),_0x7263ec===_0x567e06(0xd4)&&_0x5eea9d[_0x567e06(0xe9)]>0x186a0&&(_0x5eea9d=await sharp(_0x5eea9d)['webp']({'quality':0x1e,'effort':0x6})[_0x567e06(0xd0)](),console['log']('[Sticker\x20Debug]\x20Reduced\x20Sticker\x20Buffer\x20Size:\x20'+_0x5eea9d['length']+_0x567e06(0xb8))),await _0x3398b4[_0x567e06(0xb9)](_0x2f0304,{'sticker':_0x5eea9d},{'quoted':_0x4780a0}),await _0x114550('Sticker\x20created\x20successfully!\x0a\x0aMbuvi\x20MD\x0aPowered\x20by\x20Mbuvi\x20Tech');}catch(_0x56bf98){console['log'](_0x567e06(0xec)+_0x56bf98[_0x567e06(0xd6)]),await _0x114550(_0x567e06(0xcf)+_0x56bf98[_0x567e06(0xd6)]+_0x567e06(0xd3));}});